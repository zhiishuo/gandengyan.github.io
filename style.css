/* ================= DiamantÃ© Â· ä¸»é¢˜å˜é‡ï¼ˆä¸­æ€§/çŸ³å¢¨ï¼‰ ================= */
:root{
  /* Chrome åŒºï¼ˆé¡¶éƒ¨/åº•éƒ¨æ ã€æµ®åŠ¨æ¡ç­‰æ¡†æ¶å±‚ï¼‰ */
  --chrome-bg: #0f1420;                   /* é¡¶/åº•æ çº¯è‰² */
  --chrome-bg-blur: #0f1420f2;            /* é¡¶/åº•æ åŠé€æ˜ç”¨äºæ¯›ç»ç’ƒ */
  --chrome-line: rgba(216, 216, 221, 0.22);   /* é¡¶/åº•æ åˆ†å‰²çº¿ */

  /* Content åŒºï¼ˆä¸­é—´é¡µé¢èƒŒæ™¯ + é¢æ¿ï¼‰ */
  --content-bg1: rgba(23, 23, 23, 0.37);
  --content-bg2: #101725;                 /* è½»å¾®çºµå‘è¿‡æ¸¡ */
  --panel: rgba(40, 45, 55, 0.9);                     /* é¢æ¿åŠé€æ˜ç»ç’ƒ */
  --line: rgba(171, 175, 193, 0.22);

  /* æ–‡æœ¬ä¸çŠ¶æ€è‰² */
  --ink: #f6f8fb;
  --muted: #c5ceda;
  --accent: #27c268;   /* ä¸»è¦æŒ‰é’®ç»¿è‰² */
  --warn: #ef4444;
  --info: #58c7f3;

  --shadow: 0 10px 28px rgba(0,0,0,.22);
  --radius: 16px;

  --trans-fast: .18s cubic-bezier(.22,.61,.36,1);
  --trans-slow: .35s cubic-bezier(.22,.61,.36,1);
}
*{box-sizing:border-box}
html,body{height:100%}
html,body { touch-action: manipulation; } /* iOS åŒå‡»ç¼©æ”¾ä¿é™© */
body{
  margin:0; color:var(--ink);
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text","Segoe UI",Roboto,Inter,Helvetica,Arial;
  background:
    radial-gradient(1100px 700px at 15% -10%, #10213840, transparent),
    radial-gradient(900px 700px at 105% 0%, #0d263840, transparent),
    linear-gradient(180deg, var(--content-bg1), var(--content-bg2));
}


/* é¡¶éƒ¨æ ï¼šçº¯è‰² + ç»†åˆ†å‰²çº¿ */
header{
  position:sticky; top:0; z-index:50;
  padding:12px 14px;
  border-bottom:1px solid var(--chrome-line);
  background: var(--chrome-bg);
  color: var(--ink);
}

.titleRow{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
h1{ margin:0; font-size:18px; letter-spacing:.3px }
.badgeMini{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 10px; border:1px solid var(--line);
  border-radius:999px; background:#0f1520; font-size:12px;
}
.mono{font-family:ui-monospace,Menlo,Consolas,monospace}

/* ===== è§†å£ + å®¹å™¨ï¼ˆä»…ç‚¹å‡»åˆ‡æ¢ï¼Œæ— æ¨ªå‘æ‰‹åŠ¿ï¼‰ ===== */
.viewport{
  position:relative;
  height:calc(100svh - 64px);
  overflow:hidden; /* å…³é”®ï¼šä¸å…è®¸æ°´å¹³æ»šåŠ¨ */
}
@supports not (height: 100svh){
  .viewport{ height:calc(100vh - 64px); }
}
.pages{
  height:100%; display:flex;
  transform:translate3d(0,0,0);
  transition:transform var(--trans-slow);
  overscroll-behavior-x: contain;
  touch-action: pan-y; /* ä¼˜å…ˆçºµå‘æ»šåŠ¨ */
}
.page{
  flex:0 0 100%;
  padding:16px 12px calc(72px + env(safe-area-inset-bottom));
  overflow:auto; -webkit-overflow-scrolling:touch;
}

/* ===== é¢æ¿ä¸é€šç”¨ ===== */
.panel{
  background: var(--panel);
  border:1px solid var(--line);
  border-radius: var(--radius);
  padding:12px; box-shadow: var(--shadow);
}
.panel h2{margin:6px 0 10px; font-size:16px}
.flex{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.pill{font-size:14px; padding:6px 10px; border:1px solid var(--line); border-radius:999px; background:#101723}
input,select,button{
  border-radius:12px; border:1px solid var(--line);
  background:#0f1724; color:var(--ink);
  padding:12px 14px; font-size:16px;
}
button{cursor:pointer; min-height:44px; transition:transform var(--trans-fast),box-shadow var(--trans-fast)}
button:active{transform:scale(.98)}
.btn{padding:12px 16px}
.btn.accent{ background:#123422; border-color:#1f6b46; color:#defbe6 }
.btn.warn{ background:#3a1212; border-color:#6a1d1d; color:#ffd5d5 }
.muted{color:var(--muted); font-size:14px}
table{width:100%; border-collapse:collapse; font-size:16px}
th,td{border-bottom:1px dashed var(--line); padding:10px 6px; text-align:center}
th{color:#e8edf6; font-weight:600}
.name{width:160px}
.num{width:90px; text-align:right}
input:focus,select:focus,button:focus{outline:2px solid #3b82f6; outline-offset:2px}

/* åº•éƒ¨ Tabï¼šåŒè‰²ç³»ï¼ŒåŠé€æ˜æ¯›ç»ç’ƒé£æ ¼ */
.tabbar{
  position:fixed; left:0; right:0; bottom:0; z-index:60;
  display:flex; justify-content:space-around; gap:4px;
  padding:8px 8px calc(8px + env(safe-area-inset-bottom));
  border-top:1px solid var(--chrome-line);
  background: var(--chrome-bg-blur);
  backdrop-filter: blur(10px);
}
.tabbtn{
  flex:1; display:flex; flex-direction:column; align-items:center; gap:4px;
  padding:8px; border-radius:12px; border:1px solid transparent;
  color:#e8eefb; font-size:12px; min-width:0;
  transition:background var(--trans-fast), border-color var(--trans-fast), color var(--trans-fast);
}
.tabbtn.active{
  border-color:#3a475c; background:#0e1522; color:#ffffff;
}

/* ===== è®°åˆ†ï¼šçº¢è‰²ç‚¸å¼¹å¡ ===== */
.bombCard{
  display:flex; flex-direction:column; align-items:center; justify-content:center; gap:12px;
  border-radius:14px;
  background: linear-gradient(180deg,#3a1216,#241014);
  border:1px solid rgba(255,100,100,.28);
  padding:18px 12px; text-align:center;
  box-shadow: inset 0 1px 0 rgba(255,255,255,.04), 0 6px 20px rgba(90,20,20,.22);
}
.bombLabel{ font-size:13px; color:#ffd8d8; display:flex; align-items:center; gap:6px; }
.bombLabel::before{content:"ğŸ’£";}
.bombValue{ font-weight:800; font-size:30px; letter-spacing:.6px; color:#fff2f2 }
.bombBtns .btn{
  min-width:88px; min-height:52px; font-size:18px; font-weight:800; border-radius:14px;
}
.bombBtns #bombDec, .bombBtns #bombInc{ background:#2b0f12; border-color:#7a2d2d; color:#ffe2e2 }
.bombBtns #bombReset{ background:#3a1515; border-color:#a33a3a; color:#ffdede }
.bombPulse{animation:pop .22s cubic-bezier(.2,.8,.2,1)}
@keyframes pop{0%{transform:scale(.96)}100%{transform:scale(1)}}

/* ===== è®°åˆ†ï¼šåœé å°è®¡æ¡ ===== */
.subtotalDock{
  position:fixed; left:10px; right:10px;
  bottom: calc(64px + env(safe-area-inset-bottom));
  z-index:59;
  opacity:0; transform:translateY(8px);
  pointer-events:none;
  transition:opacity .25s cubic-bezier(.22,.61,.36,1), transform .25s cubic-bezier(.22,.61,.36,1);
}
.subtotalDock.show{ opacity:1; transform:translateY(0); }
.subtotalDock .dockInner{
  display:flex; justify-content:space-between; align-items:center; gap:12px;
  padding:10px 12px; border:1px solid var(--chrome-line); border-radius:12px;
  background: var(--chrome-bg-blur);
  backdrop-filter: blur(10px);
  box-shadow: var(--shadow);
}

/* ===== æç¤ºæ¡ï¼ˆå…¥è´¦æˆåŠŸï¼‰ ===== */
.toast{
  position:fixed; left:50%; bottom:88px; transform:translateX(-50%) translateY(20px);
  background:#0f2b1b; border:1px solid #1b5e38; color:#caffdd;
  padding:10px 14px; border-radius:999px; box-shadow:var(--shadow);
  opacity:0; pointer-events:none; transition:opacity var(--trans-slow), transform var(--trans-slow);
  z-index:70;
}
.toast.show{opacity:1; transform:translateX(-50%) translateY(0)}

/* ===== å®æ—¶æ’åï¼ˆå¤§å·åˆ†æ•°èƒ¶å›Šï¼‰ ===== */
.rankHeader{ text-align:center; margin:4px 0 10px 0; }
.rankHeader h2{ margin:0; font-size:17px; letter-spacing:.4px; }
.rankHeader .sub{ margin-top:4px; font-size:12px; color:var(--muted); }
.rankList{ display:flex; flex-direction:column; gap:6px; }
.rankCard{
  display:grid; grid-template-columns:56px 1fr auto; gap:10px; align-items:center;
  padding:10px 12px; border:1px solid var(--line); border-radius:14px; background:#0f1520aa;
}
.rankNo{
  width:40px; height:40px; border-radius:10px; display:grid; place-items:center;
  font-weight:800; font-size:22px; color:#0e1116; background: #858282;
}
.rankNo.gold{ background:linear-gradient(135deg,#ffd76a,#f4b400,#d9a400); color:#3a2a09 }
.rankNo.silver{ background:linear-gradient(135deg,#f0f3f8,#cfd6de,#b9c2cc); color:#2e3135 }
.rankNo.bronze{ background:linear-gradient(135deg,#f2c7a1,#d99159,#a56438); color:#2f1d0f }
.rankName{ font-size:16px }
.rankScore{
  justify-self:end;
  font-family:ui-monospace,Menlo,Consolas,monospace;
  font-size:26px; font-weight:800;
  padding:6px 10px; border-radius:12px;
  background:#0f1520; border:1px solid var(--line);
  letter-spacing:.2px; display:inline-flex; align-items:baseline; gap:4px;
}
.rankScore .unit{ font-size:12px; opacity:.7 }
.rankCard.top .rankScore{ box-shadow:0 4px 16px rgba(0,0,0,.25); background:linear-gradient(180deg,#101826,#0c121c); }
.rankCard.pos .rankScore{ color:#16a34a }
.rankCard.neg .rankScore{ color:#f87171 }
.rankCard.zero .rankScore{ color:#e5e7eb }

/* æ— éšœç¢ï¼šå‡å°‘åŠ¨æ€æ—¶å¼±åŒ–åŠ¨ç”» */
@media (prefers-reduced-motion: reduce){
  *{animation-duration:.001ms !important; animation-iteration-count:1 !important; transition-duration:.001ms !important;}
}
